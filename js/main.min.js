!function(){"use strict";const t=document.getElementById("canvas"),e=t?.getContext("2d");function n(){const t=window.innerWidth*window.innerHeight;let e=Math.round(t/2073600*100);return Math.max(20,Math.min(150,e))}let i=n();const o=[],d=function(){const t=Math.min(window.innerWidth,window.innerHeight);return Math.max(2,t/600)}(),s=3*d;function a(){const t=Math.min(window.innerWidth,window.innerHeight);return Math.max(1,t/500)}function r(){if(t){if(t.width=window.innerWidth,t.height=window.innerHeight,i=n(),o.length>i)o.length=i;else if(o.length<i){const t=i-o.length;for(let e=0;e<t;e++){const t=d+Math.random()*(s-d);o.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,dx:4*(Math.random()-.5)*a(),dy:4*(Math.random()-.5)*a(),size:t,originalSize:t})}}!function(){for(const e of o)e.x=Math.max(e.size,Math.min(e.x,t.width-e.size)),e.y=Math.max(e.size,Math.min(e.y,t.height-e.size)),(e.x<=e.size||e.x>=t.width-e.size)&&(e.dx*=-1),(e.y<=e.size||e.y>=t.height-e.size)&&(e.dy*=-1)}()}}window.addEventListener("resize",r),r();for(let t=0;t<i;t++){const t=d+Math.random()*(s-d);o.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,dx:4*(Math.random()-.5)*a(),dy:4*(Math.random()-.5)*a(),size:t,originalSize:t})}function l(t){document.body.classList.toggle("dark","dark"===t),document.body.classList.toggle("light","light"===t)}!function n(){if(e&&t){e.fillStyle=getComputedStyle(document.body).getPropertyValue("--bg-color"),e.fillRect(0,0,t.width,t.height),e.fillStyle=getComputedStyle(document.body).getPropertyValue("--circle-color").trim();for(const n of o)n.x+=n.dx,n.y+=n.dy,(n.x-n.size<0||n.x+n.size>t.width)&&(n.dx*=-1,n.dy+=.5*(Math.random()-.5)),(n.y-n.size<0||n.y+n.size>t.height)&&(n.dy*=-1,n.dx+=.5*(Math.random()-.5)),e.beginPath(),e.arc(n.x,n.y,n.size,0,2*Math.PI),e.fill();requestAnimationFrame(n)}}(),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("themeToggle");t&&t.addEventListener("click",()=>{document.body.classList.toggle("dark"),localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light")});l(localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem("theme")||l(t.matches?"dark":"light")})}),document.querySelectorAll("a[href]").forEach(t=>{t.addEventListener("click",function(e){const n=t.getAttribute("href");if(!n.startsWith("http")&&!n.startsWith("#")&&!t.hasAttribute("target")){e.preventDefault();document.getElementById("pageWrapper").classList.add("fade-out"),setTimeout(()=>{window.location.href=n},400)}})}),document.addEventListener("DOMContentLoaded",()=>{const t=["強くなれる理由を知った","自由の翼","壊れる壊れない狂う狂わない","幾千の夜を越え, 遠い宇宙を超え","願いは誰にも壊せない","幸せになりたい","描いた夢を忘れない","この夜空を掴みとろう","蒼い風がいま胸のドアを叩いても","僕ら生きる世界はもう夢と違う","それでも信じたい","希望を抱いて 旅に出よう","風よ、波よ、踊りなさい","自分に嘘をついたまま","誰かの笑顔が見たい","君の声が聞こえる","傷も痛みも嘘じゃない","毎日がスペシャル","傷跡の向こうに未来がある","限りある未来へ, 限りある世界へ","この声が届くなら","捧げよ、捧げよ、心臓を捧げよ","忘れないでいて, 過去も未来も","さよならを言わずに旅立とう","何度も何度も立ち上がって","消えそうな光を追いかけて","僕は神様じゃないのに","涙を隠して生きるの","巡り会えた奇跡を信じたい","Let me hear what you say"];let e=0;const n=document.getElementById("splashText"),i=document.getElementById("centerText"),o=document.getElementById("footerNote");function d(){return window.innerWidth/window.innerHeight<3/4}function s(){if(!i||!o)return;if(!d())return void(n.style.fontSize="");const t=i.getBoundingClientRect(),e=o.getBoundingClientRect(),s=t.bottom+30,a=e.top-16-s;if(a<=0)return;let r=a/(n.textContent.length||1);r=Math.min(Math.max(r,16),64),n.style.fontSize=r+"px"}function a(t){n.style.opacity=0,setTimeout(()=>{if(n.innerHTML="",d()){n.style.writingMode="vertical-rl",n.style.textOrientation="upright";for(const e of t){const t=document.createElement("span");t.textContent=e,t.style.display="block",n.appendChild(t)}}else n.style.writingMode="horizontal-tb",n.style.textOrientation="initial",n.textContent=t;s(),setTimeout(()=>{n.style.opacity=1},50)},500)}window.addEventListener("resize",s),a(t[e]),setTimeout(()=>{n.style.opacity=1},500),setInterval(function(){e=(e+1)%t.length,a(t[e])},5e3)});const c=document.getElementById("menuToggle");let h=!1;const m='<svg width="40" height="40" viewBox="0 0 40 40" fill="currentColor"><path d="M2.22223 34C1.5926 34 1.06519 33.784 0.640008 33.352C0.214823 32.92 0.00148914 32.386 7.66282e-06 31.75C-0.00147382 31.114 0.21186 30.58 0.640008 30.148C1.06816 29.716 1.59556 29.5 2.22223 29.5H37.7778C38.4074 29.5 38.9355 29.716 39.3622 30.148C39.7889 30.58 40.0015 31.114 40 31.75C39.9985 32.386 39.7852 32.9207 39.36 33.3542C38.9348 33.7877 38.4074 34.003 37.7778 34H2.22223ZM2.22223 22.75C1.5926 22.75 1.06519 22.534 0.640008 22.102C0.214823 21.67 0.00148914 21.136 7.66282e-06 20.5C-0.00147382 19.864 0.21186 19.33 0.640008 18.898C1.06816 18.466 1.59556 18.25 2.22223 18.25H37.7778C38.4074 18.25 38.9355 18.466 39.3622 18.898C39.7889 19.33 40.0015 19.864 40 20.5C39.9985 21.136 39.7852 21.6707 39.36 22.1042C38.9348 22.5377 38.4074 22.753 37.7778 22.75H2.22223ZM2.22223 11.5C1.5926 11.5 1.06519 11.284 0.640008 10.852C0.214823 10.42 0.00148914 9.886 7.66282e-06 9.25C-0.00147382 8.614 0.21186 8.08 0.640008 7.648C1.06816 7.216 1.59556 7 2.22223 7H37.7778C38.4074 7 38.9355 7.216 39.3622 7.648C39.7889 8.08 40.0015 8.614 40 9.25C39.9985 9.886 39.7852 10.4207 39.36 10.8542C38.9348 11.2877 38.4074 11.503 37.7778 11.5H2.22223Z"/></svg>';function g(){const t=window.innerWidth/window.innerHeight,e=window.innerHeight,n=window.devicePixelRatio||1;let i=Math.min(8,Math.max(3,5*t));(e<800||n<1.5)&&(i*=1.2),document.documentElement.style.setProperty("--dynamic-font-size",`${i}vw`)}function u(){const t=document.getElementById("centerText"),e=t.dataset.short;window.matchMedia("(max-aspect-ratio: 3 / 4)").matches?t.textContent=e:t.textContent="DFRONDER"}c.innerHTML=m,c.addEventListener("click",()=>{c.querySelector("svg").classList.add("fade-out"),setTimeout(()=>{h=!h,c.innerHTML=h?'<svg width="40" height="40" viewBox="0 0 40 40" fill="currentColor"><path d="M8.84615 22.5154L16.1538 29.6877C16.6667 30.191 16.9128 30.7782 16.8923 31.4493C16.8718 32.1204 16.6256 32.7076 16.1538 33.2109C15.641 33.7143 15.0325 33.9768 14.3282 33.9986C13.6239 34.0205 13.0145 33.7789 12.5 33.2739L0.76923 21.7604C0.256409 21.257 0 20.6698 0 19.9987C0 19.3276 0.256409 18.7404 0.76923 18.2371L12.5 6.72363C13.0128 6.2203 13.6222 5.97955 14.3282 6.00136C15.0342 6.02317 15.6427 6.2849 16.1538 6.78654C16.6239 7.28986 16.8701 7.87707 16.8923 8.54817C16.9145 9.21926 16.6684 9.80647 16.1538 10.3098L8.84615 17.4821H37.4359C38.1624 17.4821 38.7718 17.7237 39.2641 18.2069C39.7564 18.6901 40.0017 19.2874 40 19.9987C39.9983 20.7101 39.7521 21.3082 39.2615 21.7931C38.7709 22.278 38.1624 22.5187 37.4359 22.5154H8.84615Z"/></svg>':m;const t=c.querySelector("svg");t.classList.add("fade-out"),t.offsetWidth,t.classList.remove("fade-out"),document.getElementById("sideMenu")?.classList.toggle("open",h)},300)}),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("menuToggle"),e=document.getElementById("hamburgerIcon"),n=document.getElementById("backIcon"),i=document.getElementById("sideMenu"),o=document.getElementById("splashText"),d=document.getElementById("footerNote");if(!t)return;let s=!1;t.addEventListener("click",()=>{s=!s,i?.classList.toggle("open",s),o?.classList.toggle("menu-open",s),d?.classList.toggle("menu-open",s),e&&n&&(s?(e.classList.add("hidden"),setTimeout(()=>n.style.display="block",150),setTimeout(()=>n.classList.remove("hidden"),160)):(n.classList.add("hidden"),setTimeout(()=>n.style.display="none",150),setTimeout(()=>e.classList.remove("hidden"),160)))})}),window.addEventListener("DOMContentLoaded",u),window.addEventListener("resize",u),window.addEventListener("resize",g),g()}();
